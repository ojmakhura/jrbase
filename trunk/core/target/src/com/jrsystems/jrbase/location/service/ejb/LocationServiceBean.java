// license-header java merge-point
//
// Attention: Generated code! Do not modify by hand!
// Generated by: SpringSessionBean.vsl in andromda-spring-cartridge.
//
package com.jrsystems.jrbase.location.service.ejb;

/**
 * @see com.jrsystems.jrbase.location.service.LocationService
 */
public class LocationServiceBean
    extends org.springframework.ejb.support.AbstractStatelessSessionBean
    implements com.jrsystems.jrbase.location.service.LocationService
{
    private com.jrsystems.jrbase.location.service.LocationService locationService;

    /**
     * @see com.jrsystems.jrbase.location.service.LocationService#getAllAreasByType(com.jrsystems.jrbase.location.vo.LocationTypeVO)
     */
    public java.util.List getAllAreasByType(com.jrsystems.jrbase.location.vo.LocationTypeVO areaTypeVO)
    {

        try
        {
            return this.locationService.getAllAreasByType(areaTypeVO);
        }
        catch (Exception exception)
        {
            final Throwable cause = getRootCause(exception);
            if (cause instanceof Exception)
            {
                throw new javax.ejb.EJBException((Exception)cause);
            }
            throw new javax.ejb.EJBException(exception);
        }
    }

    /**
     * @see com.jrsystems.jrbase.location.service.LocationService#getAreasInArea(com.jrsystems.jrbase.location.vo.LocationVO)
     */
    public java.util.List getAreasInArea(com.jrsystems.jrbase.location.vo.LocationVO areaVO)
    {

        try
        {
            return this.locationService.getAreasInArea(areaVO);
        }
        catch (Exception exception)
        {
            final Throwable cause = getRootCause(exception);
            if (cause instanceof Exception)
            {
                throw new javax.ejb.EJBException((Exception)cause);
            }
            throw new javax.ejb.EJBException(exception);
        }
    }

    /**
     * @see com.jrsystems.jrbase.location.service.LocationService#removeArea(com.jrsystems.jrbase.location.vo.LocationVO)
     */
    public void removeArea(com.jrsystems.jrbase.location.vo.LocationVO areaVO)
    {

        try
        {
            this.locationService.removeArea(areaVO);
        }
        catch (Exception exception)
        {
            final Throwable cause = getRootCause(exception);
            if (cause instanceof Exception)
            {
                throw new javax.ejb.EJBException((Exception)cause);
            }
            throw new javax.ejb.EJBException(exception);
        }
    }

    /**
     * @see com.jrsystems.jrbase.location.service.LocationService#saveArea(com.jrsystems.jrbase.location.vo.LocationVO)
     */
    public com.jrsystems.jrbase.location.vo.LocationVO saveArea(com.jrsystems.jrbase.location.vo.LocationVO areaVO)
    {

        try
        {
            return this.locationService.saveArea(areaVO);
        }
        catch (Exception exception)
        {
            final Throwable cause = getRootCause(exception);
            if (cause instanceof Exception)
            {
                throw new javax.ejb.EJBException((Exception)cause);
            }
            throw new javax.ejb.EJBException(exception);
        }
    }

    /**
     * @see com.jrsystems.jrbase.location.service.LocationService#removeAreaType(com.jrsystems.jrbase.location.vo.LocationTypeVO)
     */
    public void removeAreaType(com.jrsystems.jrbase.location.vo.LocationTypeVO areaTypeVO)
    {

        try
        {
            this.locationService.removeAreaType(areaTypeVO);
        }
        catch (Exception exception)
        {
            final Throwable cause = getRootCause(exception);
            if (cause instanceof Exception)
            {
                throw new javax.ejb.EJBException((Exception)cause);
            }
            throw new javax.ejb.EJBException(exception);
        }
    }

    /**
     * @see com.jrsystems.jrbase.location.service.LocationService#saveAreaType(com.jrsystems.jrbase.location.vo.LocationTypeVO)
     */
    public com.jrsystems.jrbase.location.vo.LocationTypeVO saveAreaType(com.jrsystems.jrbase.location.vo.LocationTypeVO areaTypeVO)
    {

        try
        {
            return this.locationService.saveAreaType(areaTypeVO);
        }
        catch (Exception exception)
        {
            final Throwable cause = getRootCause(exception);
            if (cause instanceof Exception)
            {
                throw new javax.ejb.EJBException((Exception)cause);
            }
            throw new javax.ejb.EJBException(exception);
        }
    }

    /**
     * @see com.jrsystems.jrbase.location.service.LocationService#getAllAreaTypes()
     */
    public java.util.List getAllAreaTypes()
    {

        try
        {
            return this.locationService.getAllAreaTypes();
        }
        catch (Exception exception)
        {
            final Throwable cause = getRootCause(exception);
            if (cause instanceof Exception)
            {
                throw new javax.ejb.EJBException((Exception)cause);
            }
            throw new javax.ejb.EJBException(exception);
        }
    }

    /**
     * @see com.jrsystems.jrbase.location.service.LocationService#getAreasByStatus(com.jrsystems.jrbase.location.LocationStatus)
     */
    public java.util.List getAreasByStatus(com.jrsystems.jrbase.location.LocationStatus status)
    {

        try
        {
            return this.locationService.getAreasByStatus(status);
        }
        catch (Exception exception)
        {
            final Throwable cause = getRootCause(exception);
            if (cause instanceof Exception)
            {
                throw new javax.ejb.EJBException((Exception)cause);
            }
            throw new javax.ejb.EJBException(exception);
        }
    }

    /**
     * @see com.jrsystems.jrbase.location.service.LocationService#getAreaTypesByStatus(com.jrsystems.jrbase.location.LocationStatus)
     */
    public java.util.List getAreaTypesByStatus(com.jrsystems.jrbase.location.LocationStatus status)
    {

        try
        {
            return this.locationService.getAreaTypesByStatus(status);
        }
        catch (Exception exception)
        {
            final Throwable cause = getRootCause(exception);
            if (cause instanceof Exception)
            {
                throw new javax.ejb.EJBException((Exception)cause);
            }
            throw new javax.ejb.EJBException(exception);
        }
    }

    /**
     * Every Spring Session EJB needs to
     * call this to instantiate the Spring
     * Business Object.
     *
     * @see org.springframework.ejb.support.AbstractStatelessSessionBean#onEjbCreate()
     */
    protected void onEjbCreate()
    {
        this.locationService = (com.jrsystems.jrbase.location.service.LocationService)
            getBeanFactory().getBean("locationService");
    }

    /**
     * Override default BeanFactoryLocator implementation to
     * provide singleton loading of the application context Bean factory.
     *
     * @see javax.ejb.SessionBean#setSessionContext(javax.ejb.SessionContext)
     */
    public void setSessionContext(javax.ejb.SessionContext sessionContext)
    {
        super.setSessionContext(sessionContext);
        super.setBeanFactoryLocator(
            org.springframework.context.access.ContextSingletonBeanFactoryLocator.getInstance("beanRefFactory.xml"));
        super.setBeanFactoryLocatorKey("beanRefFactory");
    }

    /**
     * Finds the root cause of the parent exception
     * by traveling up the exception tree.
     */
    private static Throwable getRootCause(Throwable throwable)
    {
        if (throwable != null)
        {
            // Reflectively get any exception causes.
            try
            {
                Throwable targetException = null;

                // java.lang.reflect.InvocationTargetException
                String exceptionProperty = "targetException";
                if (org.apache.commons.beanutils.PropertyUtils.isReadable(throwable, exceptionProperty))
                {
                    targetException = (Throwable)org.apache.commons.beanutils.PropertyUtils.getProperty(throwable, exceptionProperty);
                }
                else
                {
                    exceptionProperty = "causedByException";
                    //javax.ejb.EJBException
                    if (org.apache.commons.beanutils.PropertyUtils.isReadable(throwable, exceptionProperty))
                    {
                        targetException = (Throwable)org.apache.commons.beanutils.PropertyUtils.getProperty(throwable, exceptionProperty);
                    }
                }
                if (targetException != null)
                {
                    throwable = targetException;
                }
            }
            catch (Exception exception)
            {
                // just print the exception and continue
                exception.printStackTrace();
            }
            if (throwable.getCause() != null)
            {
                throwable = throwable.getCause();
                throwable = getRootCause(throwable);
            }
        }
        return throwable;
    }
}