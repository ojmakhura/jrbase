// license-header java merge-point
// Generated by andromda-jsf cartridge (controllers\ControllerImpl.java.vsl)
package com.systemsjr.jrbase.workbench.application.web.edit;

import com.systemsjr.jrbase.workbench.application.vo.ApplicationVO;
import java.util.Date;

/**
 * @see com.systemsjr.jrbase.workbench.application.web.edit.ApplicationEditController
 */
public class ApplicationEditControllerImpl
    extends ApplicationEditController
{
    /**
     * The serial version UID of this class. Needed for serialization.
     */
    private static final long serialVersionUID = 4803988560586715243L;

    /**
     * @see com.systemsjr.jrbase.workbench.application.web.edit.ApplicationEditController#doInitialiseEditScreen(ApplicationVO applicationVO)
     */
    @Override
    public void doInitialiseEditScreen(DoInitialiseEditScreenForm form)
    {
        ApplicationVO applicationVO = form.getApplicationVO();
        
        if(applicationVO == null)
        {
        	applicationVO = new ApplicationVO();
        	form.setApplicationVO(applicationVO);
        }
    }

    /**
     * @see com.systemsjr.jrbase.workbench.application.web.edit.ApplicationEditController#doNewApplication()
     */
    @Override
    public void doNewApplication()
    {
    	ApplicationVO applicationVO = new ApplicationVO();
    	getEditApplicationSaveForm().setApplicationVO(applicationVO);
    }

    /**
     * @see com.systemsjr.jrbase.workbench.application.web.edit.ApplicationEditController#doRemoveApplication(ApplicationVO applicationVO)
     */
    @Override
    public void doRemoveApplication(DoRemoveApplicationForm form)
    {
        getApplicationService().removeApplication(form.getApplicationVO());
    }

    /**
     * @see com.systemsjr.jrbase.workbench.application.web.edit.ApplicationEditController#doSaveAplication(ApplicationVO applicationVO)
     */
    @Override
    public void doSaveAplication(DoSaveAplicationForm form)
    {
        ApplicationVO applicationVO = form.getApplicationVO();
        if(applicationVO.getId() == null)
        {
        	applicationVO.setCreatedAt(new Date());
        	applicationVO.setCreatedBy("SYSTEM");
        } else {
        	applicationVO.setCreatedAt(new Date());
        	applicationVO.setCreatedBy("SYSTEM");
        }
        
        form.setApplicationVO(getApplicationService().saveApplication(applicationVO));
        
    }

}